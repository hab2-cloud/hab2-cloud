<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Atividade 06</title>

    <style>
        body {
            font-family: Arial;
        }

        .caixa {
            border: 1px solid #666;
            width: 350px;
            padding: 15px;
            background-color: #f5f5f5;
        }

        input, select {
            width: 200px;
            height: 25px;
            margin-bottom: 10px;
            border: 1px solid #999;
        }

        button {
            background-color: #dbe7ff;
            border: 1px solid #7d9aff;
            padding: 5px 15px;
            margin-right: 10px;
            cursor: pointer;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }

        th, td {
            border: 1px solid black;
            padding: 6px;
            text-align: left;
        }

        .container {
            display: flex;
            gap: 40px;
        }

        .resumo {
            border: 1px solid black;
            padding: 20px;
            width: 300px;
            display: none;
        }

        .titulo-resumo {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

<h2>Atividade 06</h2>

<div class="container">

    <!-- CAIXA DO FORMULÁRIO -->
    <div class="caixa">

        Categoria:<br>
        <input type="text" id="categoria"><br>

        Valor:<br>
        <input type="number" id="valor" step="0.01"><br>

        Data:<br>
        <input type="date" id="data"><br>

        <button onclick="adicionar()">Adicionar</button>
        <button onclick="calcular()">Calcular</button>

        <br><br>

        <h3>Extrato Bancário</h3>

        <table id="tabela">
            <tr>
                <th>Categoria</th>
                <th>Data</th>
                <th>Valor</th>
            </tr>
        </table>
    </div>

    <!-- RESUMO LADO DIREITO -->
    <div class="resumo" id="resumo">
        <div class="titulo-resumo">Resumo</div>

        <p id="total"></p>
        <p id="mes3"></p>
        <p id="mes4"></p>
        <p id="mercado"></p>
    </div>

</div>

<script>
let lista = [];

function adicionar() {
    let c = document.getElementById("categoria").value;
    let v = document.getElementById("valor").value;
    let d = document.getElementById("data").value;

    if (c === "" || v === "" || d === "") {
        alert("Preencha todos os campos!");
        return;
    }

    lista.push({
        categoria: c,
        valor: parseFloat(v),
        data: d
    });

    let tabela = document.getElementById("tabela");

    tabela.innerHTML += `
        <tr>
            <td>${c}</td>
            <td>${d}</td>
            <td>${v}</td>
        </tr>
    `;

    document.getElementById("categoria").value = "";
    document.getElementById("valor").value = "";
    document.getElementById("data").value = "";
}

function calcular() {
    if (lista.length === 0) {
        alert("Adicione ao menos 1 gasto!");
        return;
    }

    let total = 0;
    let total03 = 0;
    let total04 = 0;
    let totalMercado = 0;

    for (let item of lista) {
        total += item.valor;

        let mes = item.data.split("-")[1];

        if (mes === "03") total03 += item.valor;
        if (mes === "04") total04 += item.valor;
        if (item.categoria.toLowerCase() === "mercado") totalMercado += item.valor;
    }

    document.getElementById("total").innerHTML =
        "Total: " + total.toFixed(2);

    document.getElementById("mes3").innerHTML =
        "Total no Mês 03: " + total03.toFixed(2);

    document.getElementById("mes4").innerHTML =
        "Total no Mês 04: " + total04.toFixed(2);

    document.getElementById("mercado").innerHTML =
        "Total de gastos com Mercado: " + totalMercado.toFixed(2);

    document.getElementById("resumo").style.display = "block";
}
</script>

</body>
</html>
